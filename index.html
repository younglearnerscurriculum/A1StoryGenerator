<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Animated Story Generator</title>
  <style>
    body {
      font-family: "Poppins", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background: #f7f7ff;
    }

    #story-container {
      width: 80%;
      margin: 20px auto;
      text-align: center;
    }

    .story-text {
      font-size: 1.4rem;
      white-space: pre-wrap;   /* Keeps line breaks */
      opacity: 0;
      animation: fadeIn 1.2s ease forwards;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    button {
      margin-top: 20px;
      padding: 12px 20px;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      background-color: #6c63ff;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background-color: #5a52d4;
    }
  </style>
</head>
<body>
  <div id="story-container">
    <pre id="story" class="story-text"></pre>
  </div>
  <button onclick="generateStory()">Generate Story</button>

  <script>
    const storyTemplates = [
      "{character} went to {place}\nThey brought along their favorite {toy}\nBut oh no! {problem}\nIn the end, {ending}.",
      "{character} was playing in {place}\nSuddenly, {problem}\nLuckily, their {toy} saved the day!\n{ending}",
      "One sunny day, {character} visited {place}\nThey carried a {toy}\nSuddenly, {problem}\nFinally, {ending}.",
      "{character} and their {toy}\nExplored {place} together\nThen {problem}\n{ending}",
      "It was a bright morning\n{character} went to {place}\nWith a {toy} in hand\nSuddenly, {problem}\n{ending}",
      "At {place} today\n{character} and their {toy} played\nThen {problem}\nBut {ending}",
      "{character} dreamed of {place}\nThey took their {toy}\nThen {problem}\nAt last, {ending}",
      "In the middle of {place}\n{character} met a friend\nThey both had {toy}s\nSuddenly, {problem}\n{ending}",
      "Once upon a time\n{character} went to {place}\nHolding their {toy}\nThen {problem}\nFinally, {ending}",
      "When {character} visited {place}\nThey forgot their {toy}\nThen {problem}\nBut {ending}",
      "The sun was shining\n{character} played in {place}\nWith {toy}\nThen {problem}\n{ending}",
      "{character} and {toy}\nWalked through {place}\nThen {problem}\nLuckily, {ending}",
      "{character} went to {place}\nSaw many new things\nBut {problem}\nSoon, {ending}",
      "It rained in {place}\n{character} took their {toy}\nThen {problem}\nFinally, {ending}",
      "{character} loved {place}\nThey hugged their {toy}\nSuddenly, {problem}\n{ending}",
      "Adventure began\n{character} visited {place}\nWith a {toy}\nThen {problem}\n{ending}",
      "{character} ran to {place}\nCarrying a {toy}\nThen {problem}\n{ending}",
      "All was calm in {place}\nThen {character} arrived\nWith {toy}\nSuddenly, {problem}\n{ending}",
      "{character} sang in {place}\nTheir {toy} listened\nThen {problem}\n{ending}",
      "{character} jumped with {toy}\nThrough {place}\nThen {problem}\n{ending}",
      "When {character} went to {place}\nThe {toy} got lost\nThen {problem}\n{ending}",
      "{character} found a {toy}\nAt {place}\nThen {problem}\n{ending}",
      "It was fun at {place}\nUntil {problem}\n{character} held {toy}\n{ending}",
      "On the way to {place}\n{character} and {toy} talked\nThen {problem}\n{ending}",
      "{character} drew pictures in {place}\nUsing their {toy}\nThen {problem}\n{ending}",
      "It was quiet in {place}\n{character} with {toy}\nThen {problem}\n{ending}",
      "At night in {place}\n{character} and {toy} saw stars\nThen {problem}\n{ending}",
      "{character} met a bird\nIn {place}\nThe bird liked the {toy}\nThen {problem}\n{ending}",
      "Everyone was happy\nWhen {character} played in {place}\nWith {toy}\nThen {problem}\n{ending}",
      "{character} made a new friend\nAt {place}\nThey played with {toy}\nThen {problem}\n{ending}",
      "{character} loved to run\nThrough {place}\nHolding {toy}\nThen {problem}\n{ending}",
      "The wind blew in {place}\n{character} chased {toy}\nThen {problem}\n{ending}",
      "{character} told a story\nIn {place}\nAbout {toy}\nThen {problem}\n{ending}",
      "{character} shared their {toy}\nIn {place}\nThen {problem}\n{ending}",
      "{character} and {toy}\nTook photos in {place}\nThen {problem}\n{ending}",
      "It was festival day\nAt {place}\n{character} carried {toy}\nThen {problem}\n{ending}",
      "{character} tried to dance\nIn {place}\nWith {toy}\nThen {problem}\n{ending}",
      "{character} painted {place}\nWith their {toy}\nThen {problem}\n{ending}",
      "{character} felt happy\nIn {place}\nWith {toy}\nThen {problem}\n{ending}",
      "{character} and {toy}\nHad lunch in {place}\nThen {problem}\n{ending}",
      "{character} sang a song\nAbout {toy}\nIn {place}\nThen {problem}\n{ending}",
      "{character} and {toy}\nRode a bike in {place}\nThen {problem}\n{ending}",
      "{character} saw a rainbow\nIn {place}\nWith {toy}\nThen {problem}\n{ending}",
      "{character} played hide and seek\nIn {place}\nWith {toy}\nThen {problem}\n{ending}",
      "{character} built a fort\nIn {place}\nUsing {toy}\nThen {problem}\n{ending}",
      "{character} and {toy}\nHad a picnic in {place}\nThen {problem}\n{ending}",
      "{character} explored a cave\nNear {place}\nWith {toy}\nThen {problem}\n{ending}",
      "{character} went fishing\nIn {place}\nWith {toy}\nThen {problem}\n{ending}",
      "{character} watched the sunset\nIn {place}\nWith {toy}\nThen {problem}\n{ending}"
    ];

    const characterArray = ["Leo", "Claire", "Max", "Mia", "Kai", "Sasha"];
    const placeArray = ["the park", "the forest", "the mall", "the beach", "the playground", "the lake"];
    const toyArray = ["teddy bear", "soccer ball", "drone", "puzzle", "kite", "dinosaur"];
    const problemArray = ["it started to rain", "they got lost", "a dog chased them", "their toy broke", "the wind blew it away", "they fell in the mud"];
    const endingArray = ["they laughed and went home", "it became the best day ever", "they learned a big lesson", "they told everyone the story", "they promised to come back", "they made a new friend"];

    function getRandom(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    function generateStory() {
      const randomTemplate = storyTemplates[Math.floor(Math.random() * storyTemplates.length)];
      
      const filledStory = randomTemplate
        .replace(/{character}/g, getRandom(characterArray))
        .replace(/{place}/g, getRandom(placeArray))
        .replace(/{toy}/g, getRandom(toyArray))
        .replace(/{problem}/g, getRandom(problemArray))
        .replace(/{ending}/g, getRandom(endingArray));

      const storyElement = document.getElementById('story');

      // Reset animation
      storyElement.style.animation = 'none';
      storyElement.offsetHeight; // Trigger reflow
      storyElement.style.animation = '';
      
      // Update text and class
      storyElement.textContent = filledStory;
      storyElement.classList.add('story-text');
    }
  </script>
</body>
</html>
